
[cors]
ENABLED = {{ forgejo_cors.enabled | bodsch.core.config_bool(true_as='true', false_as='false') }}
  {% if forgejo_cors.scheme | default('') | string | length > 0 %}
SCHEME = {{ forgejo_cors.scheme }}
  {% endif %}
  {% if forgejo_cors.allow_domain | count > 0 %}
;; list of requesting domains that are allowed
ALLOW_DOMAIN = {{ forgejo_cors.allow_domain | join(', ') }}
  {% endif %}
  {% if forgejo_cors.allow_subdomain | default('') | string | length > 0 %}
ALLOW_SUBDOMAIN = {{ forgejo_cors.allow_subdomain | bodsch.core.config_bool(true_as='true', false_as='false') }}
  {% endif %}
  {% if forgejo_cors.methods | count > 0 %}
METHODS =  {{ forgejo_cors.methods | join(', ') }}
  {% endif %}
  {% if forgejo_cors.max_age | default('') | string | length > 0 %}
MAX_AGE = {{ forgejo_cors.max_age }}
  {% endif %}
  {% if forgejo_cors.allow_credentials | default('') | string | length > 0 %}
ALLOW_CREDENTIALS = {{ forgejo_cors.allow_credentials | bodsch.core.config_bool(true_as='true', false_as='false') }}
  {% endif %}
  {% if forgejo_cors.allow_credentials | default('') | string | length > 0 %}
HEADERS = {{ forgejo_cors.headers | join(', ') }}
  {% endif %}
  {% if forgejo_cors.x_frame_options | default('') | string | length > 0 %}
X_FRAME_OPTIONS = {{ forgejo_cors.x_frame_options | join(', ') }}
  {% endif %}
